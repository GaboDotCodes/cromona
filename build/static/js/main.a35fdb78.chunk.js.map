{"version":3,"sources":["App.js","index.js"],"names":["App","useState","hostName","setHostName","myName","setMyName","myUid","setMyUid","hostUid","setHostUid","getHostName","a","fetch","reqData","json","name","getMyName","useEffect","vh","window","innerHeight","document","documentElement","style","setProperty","localStorage","getItem","myUidToSet","location","href","split","copyFn","str","el","createElement","value","body","appendChild","select","execCommand","removeChild","copyToClipboard","toastDiv","querySelector","toastText","classList","replace","setTimeout","add","shareFn","dataToShare","url","text","navigator","canShare","share","sendButton","e","preventDefault","nameValue","getElementById","contactValue","data","contact","referedBy","method","headers","JSON","stringify","response","objResponde","uid","Error","setItem","console","error","id","className","onClick","type","placeholder","formulario","root","ReactDOM","render"],"mappings":"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","file":"static/js/main.a35fdb78.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\n\nimport PropTypes from 'prop-types';\n\nconst App = () => {\n\n    const [hostName, setHostName] = useState();\n    const [myName, setMyName] = useState();\n    const [myUid, setMyUid] = useState();\n    const [hostUid, setHostUid] = useState();\n\n    const getHostName = async (hostUid) => {\n        const reqData = await fetch(`https://cromona.co/preview/${hostUid}`);\n        const { name } = await reqData.json();\n        setHostName(name);\n    };\n\n    const getMyName = async (myUid) => {\n        const reqData = await fetch(`https://cromona.co/preview/${myUid}`);\n        const { name } = await reqData.json();\n        setMyName(name);\n    };\n// eslint-disable-next-line\n    useEffect(() => {\n        const vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n        getHostName(hostUid);\n        setMyUid(localStorage.getItem('myUid'));\n        const actualURL = window.location.href\n        const myUidToSet = actualURL.split('/p/')[1];\n        setHostUid(myUidToSet);\n    });\n\n    const copyToClipboard = (str) => {\n        const el = document.createElement('textarea');\n        el.value = str;\n        document.body.appendChild(el);\n        el.select();\n        document.execCommand('copy');\n        document.body.removeChild(el);\n    };\n\n    const copyFn = () => {\n        copyToClipboard(`¡Hola! Te invito a ser parte de Cromona, cambiar láminas y llenar el álbum será una nueva experiencia.\nRegistrate aquí: https://cromona.co/p/${myUid}`);\n        const toastDiv = document.querySelector('.toastCopy');\n        const toastText = document.querySelector('.toastText');\n        toastDiv.classList.replace('hidden', 'animate');\n        toastText.classList.replace('hidden', 'show');\n        setTimeout(() => {\n            toastDiv.classList.add('hidden');\n            toastText.classList.add('hidden');\n        }, 2000);\n    }\n\n    const shareFn = async() => {\n        const dataToShare = {\n            url : `https://cromona.co/p/${myUid}`,\n            text: `¡Hola! Te invito a ser parte de Cromona, cambiar láminas y llenar el álbum será una nueva experiencia.\nRegistrate aquí: `,\n        }\n        if (navigator.canShare) navigator.share(dataToShare);\n    }\n\n    const message = () => {\n        if (myUid) {\n            getMyName(myUid);\n            return (<>\n                <h3>\n                    <br /><b>{myName}</b> ya estás en nuestra lista de espera.<br />\n                    Tendrás acceso <b>anticipado</b> a nuestro servicio, <b>te avisaremos.</b><br /><br />\n                </h3>\n                    Comparte tu link para obtener más beneficios en Cromona.\n                <div className='share'>\n                    <p className='refLink' onClick={copyFn}><b>{`https://cromona.co/p/${myUid}`}</b></p>\n                    <div className='buttons'>\n                        <div className='icons' onClick={copyFn}>\n                            <i className=\"fas fa-copy\"></i>\n                        </div>\n                        <div className='icons' onClick={shareFn}>\n                            <i className=\"fas fa-share-alt\"></i>\n                        </div>\n                    </div>\n                </div>\n                <div className='toastCopy hidden'>\n                    <p className='toastText hidden'>Link copiado. ¡Compártelo!</p>\n                </div>\n            </>)\n        }\n\n        if (hostName) {\n            return (<><h3><b>{hostName}</b> te invitó a ser parte de <b>Cromona.</b></h3></>)\n        }\n        return <h3>Registrate para obtener acceso exclusivo a <b>Cromona.</b></h3>\n    }\n\n    const formulario = () => {\n        if (!myUid) {\n            return (<form id='form'>\n                <input id='name' className='block' type='text' placeholder='Nombre' />\n                <input id='contact' className='block' type='text' placeholder='Celular o correo' />\n                <p>Al enviar estoy aceptanto <a href='/hola'>términos y condiciones.</a></p>\n                <button type='submit' onClick={sendButton}>Enviar</button>\n            </form>)\n        }\n    }\n\n    const sendButton = async (e) => {\n        try {\n            e.preventDefault();\n            const nameValue = document.getElementById('name').value;\n            const contactValue = document.getElementById('contact').value;\n            const data = {\n                name: nameValue,\n                contact: contactValue,\n                referedBy: hostUid\n            }\n            const response = await fetch('https://cromona.co/preview', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n            });\n            const objResponde = await response.json();\n            if (!objResponde.uid) throw new Error('ERROR')\n            localStorage.setItem('myUid', objResponde.uid);\n            getMyName(objResponde.uid);\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    return (\n        <div id='app'>\n            <div id='cromona'>\n                <div id='textHeader'>\n                    <h1>Cromona</h1>\n                    <h2>Vive nuevas experiencias cambiando láminas y llenando tu álbum.</h2>\n                    {message()}\n                </div>\n                {formulario()}\n            </div>\n        </div>\n    )\n}\n\nApp.propTypes = {\n    referrerName: PropTypes.string,\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nconst root = document.getElementById('root')\n\n// ReactDOM.render(<App hostUid='UHT6zG8-i'></App> , root)\nReactDOM.render(<App></App> , root)\n\n"],"sourceRoot":""}